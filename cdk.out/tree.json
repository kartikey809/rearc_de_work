{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.200.1"},"children":{"RearcAsnStack":{"id":"RearcAsnStack","path":"RearcAsnStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.200.1"},"children":{"BlsStagingBucket":{"id":"BlsStagingBucket","path":"RearcAsnStack/BlsStagingBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.200.1","metadata":[]},"children":{"Notifications":{"id":"Notifications","path":"RearcAsnStack/BlsStagingBucket/Notifications","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Resource":{"id":"Resource","path":"RearcAsnStack/BlsStagingBucket/Notifications/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.200.1"}}}}}},"IngestLambda":{"id":"IngestLambda","path":"RearcAsnStack/IngestLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.200.1","metadata":[{"environment":"*","timeout":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"RearcAsnStack/IngestLambda/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.200.1","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"RearcAsnStack/IngestLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.200.1","metadata":["*"]}},"Resource":{"id":"Resource","path":"RearcAsnStack/IngestLambda/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.200.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RearcAsnStack/IngestLambda/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.200.1","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"RearcAsnStack/IngestLambda/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.200.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::bucket-staging-s3"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::bucket-staging-s3/*"]]}]}],"Version":"2012-10-17"},"policyName":"IngestLambdaServiceRoleDefaultPolicyA78EFF9F","roles":[{"Ref":"IngestLambdaServiceRole18CD342B"}]}}}}}}},"Code":{"id":"Code","path":"RearcAsnStack/IngestLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.200.1"},"children":{"Stage":{"id":"Stage","path":"RearcAsnStack/IngestLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.200.1"}},"AssetBucket":{"id":"AssetBucket","path":"RearcAsnStack/IngestLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.200.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"RearcAsnStack/IngestLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.200.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"8040d6f53702b32300df73c9977f7c1953a8cf52fd95428bbc746b2ceab45cb1.zip"},"environment":{"variables":{"BUCKET_NAME":"bucket-staging-s3"}},"handler":"lambda_function.lambda_handler","role":{"Fn::GetAtt":["IngestLambdaServiceRole18CD342B","Arn"]},"runtime":"python3.11","timeout":300}}}}},"DailyTrigger":{"id":"DailyTrigger","path":"RearcAsnStack/DailyTrigger","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.200.1","metadata":[{"schedule":"*"},{"addEventPattern":["*"]},{"addTarget":[{}]}]},"children":{"Resource":{"id":"Resource","path":"RearcAsnStack/DailyTrigger/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.200.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"scheduleExpression":"rate(1 day)","state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["IngestLambda9890CC8D","Arn"]}}]}}},"AllowEventRuleRearcAsnStackIngestLambda870C217C":{"id":"AllowEventRuleRearcAsnStackIngestLambda870C217C","path":"RearcAsnStack/DailyTrigger/AllowEventRuleRearcAsnStackIngestLambda870C217C","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.200.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["IngestLambda9890CC8D","Arn"]},"principal":"events.amazonaws.com","sourceArn":{"Fn::GetAtt":["DailyTrigger6DE30C2B","Arn"]}}}}}},"PopulationSQS":{"id":"PopulationSQS","path":"RearcAsnStack/PopulationSQS","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.200.1","metadata":[{"visibilityTimeout":"*"}]},"children":{"Resource":{"id":"Resource","path":"RearcAsnStack/PopulationSQS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.200.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"visibilityTimeout":600}}},"Policy":{"id":"Policy","path":"RearcAsnStack/PopulationSQS/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.QueuePolicy","version":"2.200.1","metadata":[{"queues":["*"]}]},"children":{"Resource":{"id":"Resource","path":"RearcAsnStack/PopulationSQS/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueuePolicy","version":"2.200.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::QueuePolicy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["sqs:GetQueueAttributes","sqs:GetQueueUrl","sqs:SendMessage"],"Condition":{"ArnLike":{"aws:SourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::bucket-staging-s3"]]}}},"Effect":"Allow","Principal":{"Service":"s3.amazonaws.com"},"Resource":{"Fn::GetAtt":["PopulationSQS117274FD","Arn"]}}],"Version":"2012-10-17"},"queues":[{"Ref":"PopulationSQS117274FD"}]}}}}}}},"EdaReportLambda":{"id":"EdaReportLambda","path":"RearcAsnStack/EdaReportLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.200.1","metadata":[{"environment":"*","timeout":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"RearcAsnStack/EdaReportLambda/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.200.1","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"RearcAsnStack/EdaReportLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.200.1","metadata":["*"]}},"Resource":{"id":"Resource","path":"RearcAsnStack/EdaReportLambda/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.200.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RearcAsnStack/EdaReportLambda/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.200.1","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"RearcAsnStack/EdaReportLambda/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.200.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::bucket-staging-s3"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::bucket-staging-s3/*"]]}]},{"Action":["sqs:ChangeMessageVisibility","sqs:DeleteMessage","sqs:GetQueueAttributes","sqs:GetQueueUrl","sqs:ReceiveMessage"],"Effect":"Allow","Resource":{"Fn::GetAtt":["PopulationSQS117274FD","Arn"]}}],"Version":"2012-10-17"},"policyName":"EdaReportLambdaServiceRoleDefaultPolicy1460E344","roles":[{"Ref":"EdaReportLambdaServiceRole78759E14"}]}}}}}}},"Code":{"id":"Code","path":"RearcAsnStack/EdaReportLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.200.1"},"children":{"Stage":{"id":"Stage","path":"RearcAsnStack/EdaReportLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.200.1"}},"AssetBucket":{"id":"AssetBucket","path":"RearcAsnStack/EdaReportLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.200.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"RearcAsnStack/EdaReportLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.200.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"df69c3dba2b023d03d74ddfe0497492b2368f89e1b5a7211979ee7d05918a2ac.zip"},"environment":{"variables":{"BUCKET_NAME":"bucket-staging-s3"}},"handler":"lambda_function.lambda_handler","role":{"Fn::GetAtt":["EdaReportLambdaServiceRole78759E14","Arn"]},"runtime":"python3.11","timeout":300}}},"SqsEventSource:RearcAsnStackPopulationSQS8AB4C0E8":{"id":"SqsEventSource:RearcAsnStackPopulationSQS8AB4C0E8","path":"RearcAsnStack/EdaReportLambda/SqsEventSource:RearcAsnStackPopulationSQS8AB4C0E8","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.EventSourceMapping","version":"2.200.1","metadata":[{"target":"*","batchSize":"*","maxBatchingWindow":"*","maxConcurrency":"*","reportBatchItemFailures":"*","enabled":"*","eventSourceArn":"*","filters":"*","filterEncryption":"*","metricsConfig":"*"}]},"children":{"Resource":{"id":"Resource","path":"RearcAsnStack/EdaReportLambda/SqsEventSource:RearcAsnStackPopulationSQS8AB4C0E8/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnEventSourceMapping","version":"2.200.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::EventSourceMapping","aws:cdk:cloudformation:props":{"eventSourceArn":{"Fn::GetAtt":["PopulationSQS117274FD","Arn"]},"functionName":{"Ref":"EdaReportLambda4AADDB73"}}}}}}}},"BucketNotificationsHandler050a0587b7544547bf325f094a3db834":{"id":"BucketNotificationsHandler050a0587b7544547bf325f094a3db834","path":"RearcAsnStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Role":{"id":"Role","path":"RearcAsnStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.200.1","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportRole":{"id":"ImportRole","path":"RearcAsnStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.200.1","metadata":["*"]}},"Resource":{"id":"Resource","path":"RearcAsnStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.200.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RearcAsnStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.200.1","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"RearcAsnStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.200.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetBucketNotification","s3:PutBucketNotification"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36","roles":[{"Ref":"BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC"}]}}}}}}},"Resource":{"id":"Resource","path":"RearcAsnStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.200.1"}}}},"CDKMetadata":{"id":"CDKMetadata","path":"RearcAsnStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"RearcAsnStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.200.1"}},"Condition":{"id":"Condition","path":"RearcAsnStack/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.200.1"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"RearcAsnStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.200.1"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"RearcAsnStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.200.1"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}